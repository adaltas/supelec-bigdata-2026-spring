services:
  nifi:
    image: "apache/nifi:1.26.0"
    container_name: lab-nifi
    ports:
      - "8443:8443"
    environment:
      NIFI_WEB_HTTPS_PORT: "8443"
      SINGLE_USER_CREDENTIALS_USERNAME: <nifi-username>
      SINGLE_USER_CREDENTIALS_PASSWORD: <nifi-password>
    networks:
      - lab-nifi-net

  nifi-registry:
    image: "apache/nifi-registry:1.26.0"
    container_name: lab-nifi-registry
    restart: always
    networks:
      - lab-nifi-net
    ports:
      - 18080:18080
    environment:
      - LOG_LEVEL=INFO
      - NIFI_REGISTRY_DB_DIR=/opt/nifi-registry/database
      - NIFI_REGISTRY_FLOW_PROVIDER=file
      - NIFI_REGISTRY_FLOW_STORAGE_DIR=/opt/nifi-registry/flow_storage

networks:
  lab-nifi-net:
    name: lab-nifi-net
    driver: bridge
